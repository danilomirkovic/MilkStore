{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danil\\\\study\\\\milk\\\\fend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useParams } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductInfo = () => {\n  _s();\n  const [milkData, setMilkData] = useState({});\n  const [quantity, setQuantity] = useState(1);\n  let {\n    id\n  } = useParams();\n  useEffect(() => {\n    // Fetch data from API\n    const fetchData = async () => {\n      const response = await fetch(`https://localhost:7237/Milk/${id}`);\n      setMilkData(response.json());\n    };\n    fetchData().then(r => console.log(r));\n  }, [id]);\n  const handleOrder = async () => {\n    const storage = milkData.storage - quantity;\n    try {\n      const requestOptions = {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(storage)\n      };\n      const response = await fetch(`https://localhost:7023/api/milk/${id}`, requestOptions);\n      if (response.ok) {\n        // Update the component's state with the updated storage\n        setMilkData({\n          ...milkData,\n          storage: storage\n        });\n        // Show success message\n        alert(`Successfully ordered ${quantity} liter(s) of ${milkData.name}`);\n      } else {\n        alert('Failed to update storage');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-md\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-pink-200 rounded-lg overflow-hidden\",\n          children: milkData && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-6 py-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-bold text-xl mb-2\",\n                children: milkData.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 text-base\",\n                children: [\"Type: \", milkData.type]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 text-base\",\n                children: [\"Storage: \", milkData.storage, \" liter\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 19\n              }, this), milkData.storage > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block font-medium text-sm mb-2\",\n                  children: \"Quantity:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: 1,\n                  max: milkData.storage,\n                  value: quantity,\n                  onChange: e => setQuantity(e.target.valueAsNumber),\n                  className: \"w-full bg-white rounded-md border border-gray-400 py-2 px-3 text-base leading-5 focus:outline-none focus:border-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [quantity, \" liter(s)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-blue-500 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md mt-4\",\n                  onClick: handleOrder,\n                  children: \"Order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) :\n              /*#__PURE__*/\n              // Show out of stock message in red bold text\n              _jsxDEV(\"div\", {\n                className: \"text-center text-red-500 font-bold\",\n                children: \"Out of stock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductInfo, \"BDbYB+DhVLqTllZvdNMQD0tS84c=\", false, function () {\n  return [useParams];\n});\n_c = ProductInfo;\nexport default ProductInfo;\nvar _c;\n$RefreshReg$(_c, \"ProductInfo\");","map":{"version":3,"names":["React","useEffect","useState","useParams","ProductInfo","milkData","setMilkData","quantity","setQuantity","id","fetchData","response","fetch","json","then","r","console","log","handleOrder","storage","requestOptions","method","headers","body","JSON","stringify","ok","alert","name","error","type","e","target","valueAsNumber"],"sources":["C:/Users/danil/study/milk/fend/src/App.tsx"],"sourcesContent":["import { count } from 'console';\nimport React, { useEffect, useState, useParams } from 'react';\nimport './App.css';\n\ninterface Props {\n  id: string;\n}\n\nconst ProductInfo: React.FunctionComponent<Props> = () => {\n  const [milkData, setMilkData] = useState<any>({});\n  const [quantity, setQuantity] = useState<number>(1);\n  let { id } = useParams();\n\n  useEffect(() => {\n    // Fetch data from API\n    const fetchData = async () => {\n      const response = await fetch(`https://localhost:7237/Milk/${id}`);\n      setMilkData(response.json());\n    };\n    fetchData().then(r => console.log(r));\n  }, [id]);\n\n  const handleOrder = async () => {\n    const storage = milkData.storage - quantity;\n    try {\n      const requestOptions = {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(storage)\n      }\n      const response = await fetch(`https://localhost:7023/api/milk/${id}`, requestOptions);\n      if (response.ok) {\n        // Update the component's state with the updated storage\n        setMilkData({ ...milkData, storage: storage });\n        // Show success message\n        alert(`Successfully ordered ${quantity} liter(s) of ${milkData.name}`);\n      } else {\n        alert('Failed to update storage');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-center text-center\">\n        <div className=\"w-full max-w-md\">\n          <div className=\"bg-pink-200 rounded-lg overflow-hidden\">\n            {milkData && (\n              <div className=\"p-6\">\n                <div className=\"px-6 py-4\">\n                  <div className=\"font-bold text-xl mb-2\">{milkData.name}</div>\n                  <p className=\"text-gray-700 text-base\">\n                    Type: {milkData.type}\n                  </p>\n                  <p className=\"text-gray-700 text-base\">\n                    Storage: {milkData.storage} liter\n                  </p>\n                  {milkData.storage > 0 ? (\n                    <>\n                      <label className=\"block font-medium text-sm mb-2\">\n                        Quantity:\n                      </label>\n                      <input\n                        type=\"range\"\n                        min={1}\n                        max={milkData.storage}\n                        value={quantity}\n                        onChange={(e) => setQuantity(e.target.valueAsNumber)}\n                        className=\"w-full bg-white rounded-md border border-gray-400 py-2 px-3 text-base leading-5 focus:outline-none focus:border-blue-500\"\n                      />\n                      <div className=\"text-center\">{quantity} liter(s)</div>\n                      <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md mt-4\" onClick={handleOrder}>\n                        Order\n                      </button>\n                    </>\n                  ) : (\n                    // Show out of stock message in red bold text\n                    <div className=\"text-center text-red-500 font-bold\">Out of stock</div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductInfo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}